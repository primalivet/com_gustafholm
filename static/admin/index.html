<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Manager</title>
  </head>
  <body>
    <!-- Include the script that builds the page and powers Netlify CMS -->
    <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
    <script src="https://unpkg.com/moment@2.24.0/min/moment.min.js"></script>
    <script>
      // TODO: update style below to webpack generated styles.
      //CMS.registerPreviewStyle('/styles/index.css')

      const BlogPreview = createClass({
        render: function() {
          const entry = this.props.entry
          const title = entry.getIn(['data', 'title'])
          const date = entry.getIn(['data', 'date'])

          return h('div', {},
            h('h1', {}, title),
            h('p', { "className": "label dimmed" },
              moment(date).format('YYYY-MM-DD')),
            h('div', {}, this.props.widgetFor('body'))
          )
        }
      })
      CMS.registerPreviewTemplate('blog', BlogPreview)
    </script>
  </body>
</html>
